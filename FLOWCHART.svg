<svg id="export-svg" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 568.140625px;" viewBox="0 0 568.140625 1195.985595703125" role="graphics-document document" aria-roledescription="flowchart-v2"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"); p {margin: 0;}</style><style>#export-svg{font-family:arial,sans-serif;font-size:14px;fill:#fff;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#export-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#export-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#export-svg .error-icon{fill:#111827;}#export-svg .error-text{fill:#eee7d8;stroke:#eee7d8;}#export-svg .edge-thickness-normal{stroke-width:1px;}#export-svg .edge-thickness-thick{stroke-width:3.5px;}#export-svg .edge-pattern-solid{stroke-dasharray:0;}#export-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#export-svg .edge-pattern-dashed{stroke-dasharray:3;}#export-svg .edge-pattern-dotted{stroke-dasharray:2;}#export-svg .marker{fill:#9ca3af;stroke:#9ca3af;}#export-svg .marker.cross{stroke:#9ca3af;}#export-svg svg{font-family:arial,sans-serif;font-size:14px;}#export-svg p{margin:0;}#export-svg .label{font-family:arial,sans-serif;color:#fff;}#export-svg .cluster-label text{fill:#eee7d8;}#export-svg .cluster-label span{color:#eee7d8;}#export-svg .cluster-label span p{background-color:transparent;}#export-svg .label text,#export-svg span{fill:#fff;color:#fff;}#export-svg .node rect,#export-svg .node circle,#export-svg .node ellipse,#export-svg .node polygon,#export-svg .node path{fill:#1f2937;stroke:hsl(215, 0%, 6.862745098%);stroke-width:1px;}#export-svg .rough-node .label text,#export-svg .node .label text,#export-svg .image-shape .label,#export-svg .icon-shape .label{text-anchor:middle;}#export-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#export-svg .rough-node .label,#export-svg .node .label,#export-svg .image-shape .label,#export-svg .icon-shape .label{text-align:center;}#export-svg .node.clickable{cursor:pointer;}#export-svg .root .anchor path{fill:#9ca3af!important;stroke-width:0;stroke:#9ca3af;}#export-svg .arrowheadPath{fill:#0b0b0b;}#export-svg .edgePath .path{stroke:#9ca3af;stroke-width:1px;}#export-svg .flowchart-link{stroke:#9ca3af;fill:none;}#export-svg .edgeLabel{background-color:hsl(95, 27.9069767442%, 16.862745098%);text-align:center;}#export-svg .edgeLabel p{background-color:hsl(95, 27.9069767442%, 16.862745098%);}#export-svg .edgeLabel rect{opacity:0.5;background-color:hsl(95, 27.9069767442%, 16.862745098%);fill:hsl(95, 27.9069767442%, 16.862745098%);}#export-svg .labelBkg{background-color:rgba(40.9999999999, 54.9999999999, 30.9999999999, 0.5);}#export-svg .cluster rect{fill:#FFFFF8;stroke:hsl(220.9090909091, 0%, 0.9803921569%);stroke-width:1px;}#export-svg .cluster text{fill:#eee7d8;}#export-svg .cluster span{color:#eee7d8;}#export-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:#111827;border:1px solid hsl(220.9090909091, 0%, 0.9803921569%);border-radius:2px;pointer-events:none;z-index:100;}#export-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#fff;}#export-svg rect.text{fill:none;stroke-width:0;}#export-svg .icon-shape,#export-svg .image-shape{background-color:hsl(95, 27.9069767442%, 16.862745098%);text-align:center;}#export-svg .icon-shape p,#export-svg .image-shape p{background-color:hsl(95, 27.9069767442%, 16.862745098%);padding:2px;}#export-svg .icon-shape rect,#export-svg .image-shape rect{opacity:0.5;background-color:hsl(95, 27.9069767442%, 16.862745098%);fill:hsl(95, 27.9069767442%, 16.862745098%);}#export-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#export-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#export-svg .node .neo-node{stroke:hsl(215, 0%, 6.862745098%);}#export-svg [data-look="neo"].node rect,#export-svg [data-look="neo"].cluster rect,#export-svg [data-look="neo"].node polygon{stroke:url(#export-svg-gradient);filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node path{stroke:url(#export-svg-gradient);stroke-width:1;}#export-svg [data-look="neo"].node .outer-path{filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node .neo-line path{stroke:hsl(215, 0%, 6.862745098%);filter:none;}#export-svg [data-look="neo"].node circle{stroke:url(#export-svg-gradient);filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].node circle .state-start{fill:#000000;}#export-svg [data-look="neo"].statediagram-cluster rect{fill:#1f2937;stroke:url(#export-svg-gradient);stroke-width:1;}#export-svg [data-look="neo"].icon-shape .icon{fill:url(#export-svg-gradient);filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg [data-look="neo"].icon-shape .icon-neo path{stroke:url(#export-svg-gradient);filter:drop-shadow( 1px 2px 2px rgba(185,185,185,1));}#export-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#export-svg .subtle&gt;*{fill:#111827!important;stroke:#4b5563!important;color:#e5e7eb!important;}#export-svg .subtle span{fill:#111827!important;stroke:#4b5563!important;color:#e5e7eb!important;}#export-svg .subtle tspan{fill:#e5e7eb!important;}#export-svg .io&gt;*{fill:#1f2937!important;stroke:#6b7280!important;color:#fff!important;}#export-svg .io span{fill:#1f2937!important;stroke:#6b7280!important;color:#fff!important;}#export-svg .io tspan{fill:#fff!important;}</style><g><marker id="export-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 11.5 14" refX="7.75" refY="7" markerUnits="userSpaceOnUse" markerWidth="10.5" markerHeight="14" orient="auto"><path d="M 0 0 L 11.5 7 L 0 14 z" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 11.5 14" refX="4" refY="7" markerUnits="userSpaceOnUse" markerWidth="11.5" markerHeight="14" orient="auto"><polygon points="0,7 11.5,14 11.5,0" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-pointEnd-margin" class="marker flowchart-v2" viewBox="0 0 11.5 14" refX="11.5" refY="7" markerUnits="userSpaceOnUse" markerWidth="10.5" markerHeight="14" orient="auto"><path d="M 0 0 L 11.5 7 L 0 14 z" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-pointStart-margin" class="marker flowchart-v2" viewBox="0 0 11.5 14" refX="1" refY="7" markerUnits="userSpaceOnUse" markerWidth="11.5" markerHeight="14" orient="auto"><polygon points="0,7 11.5,14 11.5,0" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refY="5" refX="10.75" markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-circleEnd-margin" class="marker flowchart-v2" viewBox="0 0 10 10" refY="5" refX="12.25" markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-circleStart-margin" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-2" refY="5" markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 0; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 15 15" refX="17.7" refY="7.5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 1,1 L 14,14 M 1,14 L 14,1" class="arrowMarkerPath" style="stroke-width: 2.5;"/></marker><marker id="export-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 15 15" refX="-3.5" refY="7.5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 1,1 L 14,14 M 1,14 L 14,1" class="arrowMarkerPath" style="stroke-width: 2.5; stroke-dasharray: 1, 0;"/></marker><marker id="export-svg_flowchart-v2-crossEnd-margin" class="marker cross flowchart-v2" viewBox="0 0 15 15" refX="17.7" refY="7.5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 1,1 L 14,14 M 1,14 L 14,1" class="arrowMarkerPath" style="stroke-width: 2.5;"/></marker><marker id="export-svg_flowchart-v2-crossStart-margin" class="marker cross flowchart-v2" viewBox="0 0 15 15" refX="-3.5" refY="7.5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto"><path d="M 1,1 L 14,14 M 1,14 L 14,1" class="arrowMarkerPath" style="stroke-width: 2.5; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster subtle" id="Data" data-id="Data" data-et="cluster" data-look="neo"><rect style="fill:#111827 !important;stroke:#4b5563 !important" x="344.080078125" y="1059.6031646728516" width="170.265625" height="128.38246154785156"/><g class="cluster-label" transform="translate(404.693359375, 1059.6031646728516)"><foreignObject width="49.0390625" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel" style="color:#e5e7eb !important"><p>Storage</p></span></div></foreignObject></g></g><g class="cluster subtle" id="Worker" data-id="Worker" data-et="cluster" data-look="neo"><rect style="fill:#111827 !important;stroke:#4b5563 !important" x="87.494140625" y="939.6031646728516" width="236.5859375" height="248.38246154785156"/><g class="cluster-label" transform="translate(167.794921875, 939.6031646728516)"><foreignObject width="75.984375" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel" style="color:#e5e7eb !important"><p>LLM Worker</p></span></div></foreignObject></g></g><g class="cluster subtle" id="MQ" data-id="MQ" data-et="cluster" data-look="neo"><rect style="fill:#111827 !important;stroke:#4b5563 !important" x="122.724609375" y="762" width="166.125" height="127.60316467285156"/><g class="cluster-label" transform="translate(171.935546875, 762)"><foreignObject width="67.703125" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel" style="color:#e5e7eb !important"><p>Messaging</p></span></div></foreignObject></g></g><g class="cluster subtle" id="API" data-id="API" data-et="cluster" data-look="neo"><rect style="fill:#111827 !important;stroke:#4b5563 !important" x="64.859375" y="406" width="493.921875" height="285"/><g class="cluster-label" transform="translate(245.6796875, 406)"><foreignObject width="132.28125" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel" style="color:#e5e7eb !important"><p>Backend（FastAPI）</p></span></div></foreignObject></g></g><g class="cluster subtle" id="Client" data-id="Client" data-et="cluster" data-look="neo"><rect style="fill:#111827 !important;stroke:#4b5563 !important" x="8" y="8" width="552.140625" height="327"/><g class="cluster-label" transform="translate(256.05078125, 8)"><foreignObject width="56.0390625" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel" style="color:#e5e7eb !important"><p>Frontend</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M369.779296875,78L369.779296875,103L369.779296875,124" id="L_U_FE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 37 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_U_FE_0" data-points="W3sieCI6MzY5Ljc3OTI5Njg3NSwieSI6Nzh9LHsieCI6MzY5Ljc3OTI5Njg3NSwieSI6MTAzfSx7IngiOjM2OS43NzkyOTY4NzUsInkiOjEyOH1d" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M253.779296875,192.91964343628092L166.9539558456561,216.8113152198167Q159,219 159,227.2495911814861L159,240" id="L_FE_VAL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 108.10377502441406 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_FE_VAL_0" data-points="W3sieCI6MjUzLjc3OTI5Njg3NSwieSI6MTkyLjkxOTY0MzQzNjI4MDkyfSx7IngiOjE1OSwieSI6MjE5fSx7IngiOjE1OSwieSI6MjQ0fV0=" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M159,310L159,335L159,370.5L159,397.6120433371833Q159,406 167.02915596615412,408.42702934643614L237.87669489517296,429.8426123576937" id="L_VAL_GW_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 167.24632263183594 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_VAL_GW_0" data-points="W3sieCI6MTU5LCJ5IjozMTB9LHsieCI6MTU5LCJ5IjozMzV9LHsieCI6MTU5LCJ5IjozNzAuNX0seyJ4IjoxNTksInkiOjQwNn0seyJ4IjoyNDEuNzA1NTkyMTA1MjYzMTgsInkiOjQzMX1d" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M263.86790707236844,476L214.13984791817538,497.40469015822686Q205.787109375,501 205.787109375,510.09365130346436L205.787109375,522" id="L_GW_JWT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 73.27186584472656 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_GW_JWT_0" data-points="W3sieCI6MjYzLjg2NzkwNzA3MjM2ODQ0LCJ5Ijo0NzZ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6NTAxfSx7IngiOjIwNS43ODcxMDkzNzUsInkiOjUyNn1d" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M205.787109375,571L205.787109375,596L205.787109375,617" id="L_JWT_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 37 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_JWT_RL_0" data-points="W3sieCI6MjA1Ljc4NzEwOTM3NSwieSI6NTcxfSx7IngiOjIwNS43ODcxMDkzNzUsInkiOjU5Nn0seyJ4IjoyMDUuNzg3MTA5Mzc1LCJ5Ijo2MjF9XQ==" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M205.787109375,666L205.787109375,691L205.787109375,726.5L205.787109375,762L205.787109375,783" id="L_RL_KQ_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 108 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_RL_KQ_0" data-points="W3sieCI6MjA1Ljc4NzEwOTM3NSwieSI6NjY2fSx7IngiOjIwNS43ODcxMDkzNzUsInkiOjY5MX0seyJ4IjoyMDUuNzg3MTA5Mzc1LCJ5Ijo3MjYuNX0seyJ4IjoyMDUuNzg3MTA5Mzc1LCJ5Ijo3NjJ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6Nzg3fV0=" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M205.787109375,864.6031646728516L205.787109375,889.6031646728516L205.787109375,914.6031646728516L205.787109375,939.6031646728516L205.787109375,960.6031646728516" id="L_KQ_WK_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 87 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_KQ_WK_0" data-points="W3sieCI6MjA1Ljc4NzEwOTM3NSwieSI6ODY0LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6ODg5LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6OTE0LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6OTM5LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjA1Ljc4NzEwOTM3NSwieSI6OTY0LjYwMzE2NDY3Mjg1MTZ9XQ==" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M198.51346628289474,1009.6031646728516L194.27663359767837,1022.7092154111449Q190.431640625,1034.6031646728516 190.431640625,1047.1031646728516L190.431640625,1059.6031646728516L190.431640625,1097.2943954467773" id="L_WK_LLM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 79.76216125488281 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_WK_LLM_0" data-points="W3sieCI6MTk4LjUxMzQ2NjI4Mjg5NDc0LCJ5IjoxMDA5LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MTkwLjQzMTY0MDYyNSwieSI6MTAzNC42MDMxNjQ2NzI4NTE2fSx7IngiOjE5MC40MzE2NDA2MjUsInkiOjEwNTkuNjAzMTY0NjcyODUxNn0seyJ4IjoxOTAuNDMxNjQwNjI1LCJ5IjoxMTAxLjI5NDM5NTQ0Njc3NzN9XQ==" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M229.06702302631578,1009.6031646728516L245.94548345384754,1025.9161701808423Q254.93359375,1034.6031646728516 254.93359375,1047.1031646728516L254.93359375,1050.8619520859675Q254.93359375,1059.6031646728516 263.1361088817754,1062.6243470576305L375.32658738204157,1103.9467819376212" id="L_WK_DB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 176.90780639648438 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_WK_DB_0" data-points="W3sieCI6MjI5LjA2NzAyMzAyNjMxNTc4LCJ5IjoxMDA5LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjU0LjkzMzU5Mzc1LCJ5IjoxMDM0LjYwMzE2NDY3Mjg1MTZ9LHsieCI6MjU0LjkzMzU5Mzc1LCJ5IjoxMDU5LjYwMzE2NDY3Mjg1MTZ9LHsieCI6Mzc5LjA4MDA3ODEyNSwieSI6MTEwNS4zMjkyODIyOTY1ODE0fV0=" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M369.701171875,476L420.88432725247435,497.50129270862067Q429.212890625,501 429.212890625,510.03359953512035L429.212890625,548.5L429.212890625,596L429.212890625,643.5L429.212890625,691L429.212890625,726.5L429.212890625,762L429.212890625,825.8015823364258L429.212890625,889.6031646728516L429.212890625,914.6031646728516L429.212890625,939.6031646728516L429.212890625,987.1031646728516L429.212890625,1034.6031646728516L429.212890625,1059.6031646728516L429.212890625,1080.6031646728516" id="L_GW_DB_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_GW_DB_0" data-points="W3sieCI6MzY5LjcwMTE3MTg3NSwieSI6NDc2fSx7IngiOjQyOS4yMTI4OTA2MjUsInkiOjUwMX0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo1NDguNX0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo1OTZ9LHsieCI6NDI5LjIxMjg5MDYyNSwieSI6NjQzLjV9LHsieCI6NDI5LjIxMjg5MDYyNSwieSI6NjkxfSx7IngiOjQyOS4yMTI4OTA2MjUsInkiOjcyNi41fSx7IngiOjQyOS4yMTI4OTA2MjUsInkiOjc2Mn0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo4MjUuODAxNTgyMzM2NDI1OH0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo4ODkuNjAzMTY0NjcyODUxNn0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo5MTQuNjAzMTY0NjcyODUxNn0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo5MzkuNjAzMTY0NjcyODUxNn0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5Ijo5ODcuMTAzMTY0NjcyODUxNn0seyJ4Ijo0MjkuMjEyODkwNjI1LCJ5IjoxMDM0LjYwMzE2NDY3Mjg1MTZ9LHsieCI6NDI5LjIxMjg5MDYyNSwieSI6MTA1OS42MDMxNjQ2NzI4NTE2fSx7IngiOjQyOS4yMTI4OTA2MjUsInkiOjEwODQuNjAzMTY0NjcyODUxNn1d" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M391.86348684210526,431L467.9849256358257,408.3815683771958Q476,406 476,397.6385835530992L476,370.5L476,335L476,277L476,228.7986799488229Q476,219 467.39987410352524,214.30404820039138L433.7259425301569,195.9169732348173" id="L_GW_FE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 309.973388671875 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_GW_FE_0" data-points="W3sieCI6MzkxLjg2MzQ4Njg0MjEwNTI2LCJ5Ijo0MzF9LHsieCI6NDc2LCJ5Ijo0MDZ9LHsieCI6NDc2LCJ5IjozNzAuNX0seyJ4Ijo0NzYsInkiOjMzNX0seyJ4Ijo0NzYsInkiOjI3N30seyJ4Ijo0NzYsInkiOjIxOX0seyJ4Ijo0MzAuMjE1MjE0MTcwMjU4NiwieSI6MTk0fV0=" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/><path d="M377.30142106681035,194L380.1507105334052,206.5Q383,219 383,231.82062597787052L383,250.5" id="L_FE_CLIP_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style="stroke-dasharray: 0 0 48.03411865234375 9; stroke-dashoffset: 0;;" data-edge="true" data-et="edge" data-id="L_FE_CLIP_0" data-points="W3sieCI6Mzc3LjMwMTQyMTA2NjgxMDM1LCJ5IjoxOTR9LHsieCI6MzgzLCJ5IjoyMTl9LHsieCI6MzgzLCJ5IjoyNTQuNX1d" marker-end="url(#export-svg_flowchart-v2-pointEnd-margin)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_U_FE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_FE_VAL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(159, 370.5)"><g class="label" data-id="L_VAL_GW_0" transform="translate(-33.05859375, -10.5)"><foreignObject width="66.1171875" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"><p>OK 才送出</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GW_JWT_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_JWT_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(205.787109375, 726.5)"><g class="label" data-id="L_RL_KQ_0" transform="translate(-14, -10.5)"><foreignObject width="28" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"><p>允許</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_KQ_WK_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_WK_LLM_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_WK_DB_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(429.212890625, 726.5)"><g class="label" data-id="L_GW_DB_0" transform="translate(-57.9453125, -10.5)"><foreignObject width="115.890625" height="21"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"><p>取用結果/同步回傳</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GW_FE_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_FE_CLIP_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div style="display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml" class="labelBkg"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default io" id="flowchart-U-0" data-id="U" data-node="true" data-et="node" data-look="neo" transform="translate(369.779296875, 55.5)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="U" x="-37" y="-22.5" width="74" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-21, -10.5)"><rect/><foreignObject width="42" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>使用者</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-FE-1" data-id="FE" data-node="true" data-et="node" data-look="neo" transform="translate(369.779296875, 161)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="FE" x="-116" y="-33" width="232" height="66" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-100, -21)"><rect/><foreignObject width="200" height="42"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>UI：輸入/上傳郵件、選擇魔法類型</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-VAL-2" data-id="VAL" data-node="true" data-et="node" data-look="neo" transform="translate(159, 277)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="VAL" x="-116" y="-33" width="232" height="66" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-100, -21)"><rect/><foreignObject width="200" height="42"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>前端驗證：欄位/變更偵測/冷卻時間</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-CLIP-3" data-id="CLIP" data-node="true" data-et="node" data-look="neo" transform="translate(383, 277)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="CLIP" x="-58" y="-22.5" width="116" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-42, -10.5)"><rect/><foreignObject width="84" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>複製建議內容</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-GW-7" data-id="GW" data-node="true" data-et="node" data-look="neo" transform="translate(316.140625, 453.5)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="GW" x="-113.28125" y="-22.5" width="226.5625" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-97.28125, -10.5)"><rect/><foreignObject width="194.5625" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>FastAPI /api/public/v1/generate</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-JWT-8" data-id="JWT" data-node="true" data-et="node" data-look="neo" transform="translate(205.787109375, 548.5)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="JWT" x="-46.203125" y="-22.5" width="92.40625" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-30.203125, -10.5)"><rect/><foreignObject width="60.40625" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>JWT 驗證</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-RL-9" data-id="RL" data-node="true" data-et="node" data-look="neo" transform="translate(205.787109375, 643.5)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="RL" x="-66.9453125" y="-22.5" width="133.890625" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-50.9453125, -10.5)"><rect/><foreignObject width="101.890625" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>頻率限制/防濫用</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-KQ-10" data-id="KQ" data-node="true" data-et="node" data-look="neo" transform="translate(205.787109375, 825.8015823364258)"><path d="M0,10.867721876766534 a48.0625,10.867721876766534 0,0,0 96.125,0 a48.0625,10.867721876766534 0,0,0 -96.125,0 l0,55.86772187676654 a48.0625,10.867721876766534 0,0,0 96.125,0 l0,-55.86772187676654" class="basic label-container outer-path" style="fill:#1f2937 !important;stroke:#6b7280 !important" transform="translate(-48.0625, -38.8015828151498)"/><g class="label" style="color:#fff !important" transform="translate(-36.0625, -3)"><rect/><foreignObject width="72.125" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Kafka Topic</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-WK-11" data-id="WK" data-node="true" data-et="node" data-look="neo" transform="translate(205.787109375, 987.1031646728516)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="WK" x="-83.29296875" y="-22.5" width="166.5859375" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-67.29296875, -10.5)"><rect/><foreignObject width="134.5859375" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>Consumer：讀取任務</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-LLM-12" data-id="LLM" data-node="true" data-et="node" data-look="neo" transform="translate(190.431640625, 1123.7943954467773)"><rect class="basic label-container" style="fill:#1f2937 !important;stroke:#6b7280 !important" data-id="LLM" x="-52.58203125" y="-22.5" width="105.1640625" height="45" stroke="url(#gradient)"/><g class="label" style="color:#fff !important" transform="translate(-36.58203125, -10.5)"><rect/><foreignObject width="73.1640625" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>OpenAI API</p></span></div></foreignObject></g></g><g class="node default io" id="flowchart-DB-13" data-id="DB" data-node="true" data-et="node" data-look="neo" transform="translate(429.212890625, 1123.7943954467773)"><path d="M0,11.127488381771519 a50.1328125,11.127488381771519 0,0,0 100.265625,0 a50.1328125,11.127488381771519 0,0,0 -100.265625,0 l0,56.12748838177152 a50.1328125,11.127488381771519 0,0,0 100.265625,0 l0,-56.12748838177152" class="basic label-container outer-path" style="fill:#1f2937 !important;stroke:#6b7280 !important" transform="translate(-50.1328125, -39.19123257265728)"/><g class="label" style="color:#fff !important" transform="translate(-38.1328125, -3)"><rect/><foreignObject width="76.265625" height="21"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: normal; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#fff !important" class="nodeLabel"><p>PostgreSQL</p></span></div></foreignObject></g></g></g></g></g><defs><filter id="drop-shadow" height="130%" width="130%"><feDropShadow dx="4" dy="4" stdDeviation="0" flood-opacity="0.06" flood-color="#000000"/></filter></defs><defs><filter id="drop-shadow-small" height="150%" width="150%"><feDropShadow dx="2" dy="2" stdDeviation="0" flood-opacity="0.06" flood-color="#000000"/></filter></defs><linearGradient id="export-svg-gradient" gradientUnits="objectBoundingBox" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="hsl(215, 0%, 6.862745098%)" stop-opacity="1"/><stop offset="100%" stop-color="hsl(95, 0%, 6.862745098%)" stop-opacity="1"/></linearGradient></svg>