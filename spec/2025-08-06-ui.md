# Feature: 前端上傳功能與內容驗證

## 背景（Business Context）

為實現 AI 郵件分析流程，使用者需上傳郵件內容進行生成。為避免錯誤操作與系統濫用，需加入副檔名與大小限制、內容非空檢查與冷卻倒數機制，並使用 Bearer Token 進行授權驗證。

## 使用者故事（User Story）

作為【潛在用戶】  
我希望能安全地上傳郵件內容並觸發分析功能  
以便快速獲得最佳化建議，且不會誤觸或重複送出

## 驗收條件（Acceptance Criteria）

- [x] 使用者可上傳檔案（限制為 `.txt`, `.html`，大小不超過 1MB）
- [x] 若內容為空，前端提示錯誤並禁止送出
- [x] 上傳後按鈕禁用，冷卻倒數顯示（預設 10 秒）
- [x] 前端成功串接 `/email-analyzer/api/public/v1/generate` API，使用 Bearer Token 認證
- [x] 完成 frontend Dockerfile，支援 build 與本地測試
- [x] 開發 `/email-analyzer/api/public/v1/generate` API

## 輸入資料（Inputs）

### 檔案格式限制

- 副檔名：`.txt`, `.html`
- 檔案大小：最大 1MB

### `/email-analyzer/api/public/v1/generate` API 請求格式

#### HTTP Header

```
Authorization: Bearer <JWT Token>
Content-Type: application/json
```

#### Body（一次送入多筆任務，以陣列方式傳遞）

```json
[
  {
    "campaignSn": "abc123", // 郵件活動序號，內容異動時會更新
    "magicType": "title_optimize", // 優化內容類型
    "content": "限時下殺！買一送一活動開跑啦，快邀朋友一起搶購！", // 郵件內容
    "num_suggestions": 2 // 建議點子數量
  },
  {
    "campaignSn": "def456",
    "magicType": "title_optimize",
    "content": "最後一天！立即入手最優惠的方案",
    "num_suggestions": 2
  }
]
```

`num_suggestions` 會決定需要呼叫 GPT 幾次以取得相對應數量的建議。

#### 回傳內容

```json
{
  "status": "success", // 請求狀態
  "data": {
    "suggestions": [
      // 優化建議列表
      {
        "title": "string", // 建議標題
        "content": "string" // 建議內容
      }
    ]
  }
}
```
